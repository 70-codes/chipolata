(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,function(t,n,e){"use strict";e.r(n);var r=e(2),u=e(3);const o=(t,n)=>{const e=t.createImageData(1,1);return e.data[0]=n,e.data[1]=n,e.data[2]=n,e.data[3]=255,e},i=t=>[!!t.x,!!t[1],!!t[2],!!t[3],!!t.q,!!t.w,!!t.e,!!t.a,!!t.s,!!t.d,!!t.z,!!t.c,!!t[4],!!t.r,!!t.f,!!t.v],c=(()=>{if(!window.AudioContext&&!window.webkitAudioContext)return null;const t=new(window.AudioContext||window.webkitAudioContext);return{oscillator:null,start(){this.oscillator||(this.oscillator=(t=>{const n=t.createOscillator();return n.type="sine",n.frequency.value=400,n.connect(t.destination),n})(t),this.oscillator.start())},stop(){this.oscillator&&(this.oscillator.stop(),this.oscillator=null)}}})(),a=((t,n,e,r,u)=>{t.width=n,t.height=e;const i=Math.min(r-40,10*n);t.style.width=i+"px",t.style.height=i/2+"px";const c=t.getContext("2d"),a=o(c,0),f=o(c,255);return{drawPixelAt(t,n,e){c.putImageData(t?f:a,n,e)}}})(document.getElementById("display"),64,32,screen.width,screen.height),f={};document.addEventListener("keydown",t=>{f[t.key]=!0}),document.addEventListener("keyup",t=>{f[t.key]=!1});fetch("./space-invaders.ch8").then(async t=>{const n=await t.arrayBuffer(),e=new r.a(new Uint8Array(n)),o=()=>{let t=!1;for(let n=0;n<10;n++)e.update_keypad(i(f)),e.step(),e.should_redraw()&&(t=!0);if(t){const t=new Uint8Array(u.k.buffer,e.get_framebuffer_ptr(),2048);for(let n=0;n<64;n++)for(let e=0;e<32;e++)a.drawPixelAt(1==t[n+64*e],n,e)}e.should_beep()?c.start():c.stop(),e.update_timers(),requestAnimationFrame(o)};o()})},function(t,n,e){"use strict";(function(t){e.d(n,"a",(function(){return y})),e.d(n,"d",(function(){return b})),e.d(n,"q",(function(){return g})),e.d(n,"i",(function(){return m})),e.d(n,"k",(function(){return k})),e.d(n,"m",(function(){return x})),e.d(n,"j",(function(){return _})),e.d(n,"c",(function(){return v})),e.d(n,"f",(function(){return A})),e.d(n,"o",(function(){return j})),e.d(n,"b",(function(){return O})),e.d(n,"e",(function(){return P})),e.d(n,"g",(function(){return q})),e.d(n,"l",(function(){return C})),e.d(n,"h",(function(){return D})),e.d(n,"n",(function(){return U})),e.d(n,"r",(function(){return E})),e.d(n,"p",(function(){return B}));var r=e(3);const u=new Array(32).fill(void 0);function o(t){return u[t]}u.push(void 0,null,!0,!1);let i=u.length;function c(t){const n=o(t);return function(t){t<36||(u[t]=i,i=t)}(t),n}let a=new("undefined"==typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});a.decode();let f=null;function s(){return null!==f&&f.buffer===r.k.buffer||(f=new Uint8Array(r.k.buffer)),f}function d(t,n){return a.decode(s().subarray(t,t+n))}function l(t){i===u.length&&u.push(u.length+1);const n=i;return i=u[n],u[n]=t,n}let p=0;function h(t,n){const e=n(1*t.length);return s().set(t,e/1),p=t.length,e}function w(t){return function(){try{return t.apply(this,arguments)}catch(t){r.b(l(t))}}}class y{static __wrap(t){const n=Object.create(y.prototype);return n.ptr=t,n}free(){const t=this.ptr;this.ptr=0,r.a(t)}constructor(t){var n=h(t,r.c),e=p,u=r.e(n,e);return y.__wrap(u)}update_keypad(t){var n=h(t,r.c),e=p;r.i(this.ptr,n,e)}step(){r.h(this.ptr)}should_redraw(){return 0!==r.g(this.ptr)}should_beep(){return 0!==r.f(this.ptr)}update_timers(){r.j(this.ptr)}get_framebuffer_ptr(){return r.d(this.ptr)}}const b=w((function(t,n){o(t).getRandomValues(o(n))})),g=function(t){c(t)},m=w((function(t,n,e){var r,u;o(t).randomFillSync((r=n,u=e,s().subarray(r/1,r/1+u)))})),k=w((function(){return l(self.self)})),x=function(){return l(t)},_=w((function(t,n,e){return l(o(t).require(d(n,e)))})),v=function(t){return l(o(t).crypto)},A=function(t){return l(o(t).msCrypto)},j=function(t){return void 0===o(t)},O=function(t){return l(o(t).buffer)},P=function(t){return o(t).length},q=function(t){return l(new Uint8Array(o(t)))},C=function(t,n,e){o(t).set(o(n),e>>>0)},D=function(t){return l(new Uint8Array(t>>>0))},U=function(t,n,e){return l(o(t).subarray(n>>>0,e>>>0))},E=function(t,n){throw new Error(d(t,n))},B=function(){return l(r.k)}}).call(this,e(4)(t))},function(t,n,e){"use strict";var r=e.w[t.i];t.exports=r;e(2);r.l()},function(t,n){t.exports=function(t){if(!t.webpackPolyfill){var n=Object.create(t);n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),Object.defineProperty(n,"exports",{enumerable:!0}),n.webpackPolyfill=1}return n}}]]);