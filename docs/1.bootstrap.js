(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,function(e,t,r){"use strict";r.r(t);var n=r(2),a=r(3);const c=(e,t)=>"0x"+e.toString(16).padStart(t,"0"),o=e=>c(4095&e,4),u=e=>(3840&e)>>8,s=e=>(240&e)>>4,i=e=>c(255&e,2),d=e=>15&e,l=(e,t)=>{const r=e[t]<<8|e[t+1];let n="-";switch(61440&r){case 0:224==r?n="CLS":238==r&&(n="RET");break;case 4096:n="JP "+o(r);break;case 8192:n="CALL "+o(r);break;case 12288:n=`SE V${u(r)}, ${i(r)}`;break;case 16384:n=`SNE V${u(r)}, ${i(r)}`;break;case 20480:n=`SE V${u(r)}, V${s(r)}`;break;case 24576:n=`LD V${u(r)}, ${i(r)}`;break;case 28672:n=`ADD V${u(r)}, ${i(r)}`;break;case 32768:switch(d(r)){case 0:n=`LD V${u(r)}, V${s(r)}`;break;case 1:n=`OR V${u(r)}, V${s(r)}`;break;case 2:n=`AND V${u(r)}, V${s(r)}`;break;case 3:n=`XOR V${u(r)}, V${s(r)}`;break;case 4:n=`ADD V${u(r)}, V${s(r)}`;break;case 5:n=`SUB V${u(r)}, V${s(r)}`;break;case 6:n=`SHR V${u(r)} {, V${s(r)}}`;break;case 7:n=`SUBN V${u(r)}, V${s(r)}`;break;case 14:n=`SHL V${u(r)} {, V${s(r)}}`}break;case 36864:n=`SNE V${u(r)}, V${s(r)}`;break;case 40960:n="LD I, "+o(r);break;case 45056:n="JP V0, "+o(r);break;case 49152:n=`RND V${u(r)}, ${i(r)}`;break;case 53248:n=`DRW V${u(r)}, ${i(r)}, ${c(d(r),1)}`;break;case 57344:158==i(r)?n="SKP V"+u(r):161==i(r)&&(n="SKNP V"+u(r));break;case 61440:switch(255&r){case 7:n=`LD V${u(r)}, DT`;break;case 10:n=`LD V${u(r)}, K`;break;case 21:n="LD DT, V"+u(r);break;case 24:n="LD ST, V"+u(r);break;case 30:n="ADD I, V"+u(r);break;case 41:n="LD F, V"+u(r);break;case 51:n="LD B, V"+u(r);break;case 85:n="LD [I], V"+u(r);break;case 101:n=`LD V${u(r)}, [I]`}}return[n]},f=e=>[!!e.x,!!e[1],!!e[2],!!e[3],!!e.q,!!e.w,!!e.e,!!e.a,!!e.s,!!e.d,!!e.z,!!e.c,!!e[4],!!e.r,!!e.f,!!e.v],p=document.getElementById("display-canvas"),b=document.querySelector(".opcode .values"),h=document.querySelector(".registers .values-1"),w=document.querySelector(".registers .values-2"),k=(()=>{if(!window.AudioContext&&!window.webkitAudioContext)return null;const e=new(window.AudioContext||window.webkitAudioContext);return{oscillator:null,start(){this.oscillator||(this.oscillator=(e=>{const t=e.createOscillator();return t.type="sine",t.frequency.value=400,t.connect(e.destination),t})(e),this.oscillator.start())},stop(){this.oscillator&&(this.oscillator.stop(),this.oscillator=null)}}})(),$=((e,t,r,n,a)=>{e.width=t,e.height=r;const c=Math.min(n-40,10*t);e.style.width=c+"px",e.style.height=c/2+"px";const o=e.getContext("2d");return{draw(e){const n=o.createImageData(t,r);for(let t=0;t<e.length;t++)n.data[4*t]=1===e[t]?255:0,n.data[4*t+1]=1===e[t]?255:0,n.data[4*t+2]=1===e[t]?255:0,n.data[4*t+3]=255;o.putImageData(n,0,0)}}})(p,64,32,screen.width,screen.height),y={};document.addEventListener("keydown",e=>{y[e.key]=!0}),document.addEventListener("keyup",e=>{y[e.key]=!1});const V=(e,t)=>{const r=new n.a(e),o=new Uint8Array(a.n.buffer,r.get_vram_ptr(),2048),u=new Uint8Array(a.n.buffer,r.get_ram_ptr(),4096);b.innerHTML=(e=>{const t=[];for(let r=513;r<4096;r+=2){const[n]=l(e,r);t.push(`<div class="addr-${r}">${c(r,4)}: ${n}</div>`)}return t.join("")})(u);const s=new Uint8Array(a.n.buffer,r.get_v_registers_ptr(),16),i=()=>{let e=!1;for(let n=0;n<t;n++)r.update_keypad(f(y)),r.step(),r.should_redraw()&&(e=!0);e&&$.draw(o),r.should_beep()?k.start():k.stop(),r.update_timers(),(()=>{const e=r.get_pc(),t=document.querySelector(".current-addr");t&&t.classList.toggle("current-addr");const n=document.querySelector(".addr-"+e);n&&(n.classList.toggle("current-addr"),n.parentElement.scrollTo(0,n.offsetTop-n.parentElement.offsetTop-70));const a=[],o=[];for(let e=0;e<8;e++)a.push(`v${String(e).padStart(2,"0")}=${c(s[e],2)}`),o.push(`v${String(e+8).padStart(2,"0")}=${c(s[e+8],2)}`);h.innerHTML=a.join("<br>"),w.innerHTML=o.join("<br>")})(),requestAnimationFrame(i)};i()};fetch("./space-invaders.ch8").then(async e=>{const t=await e.arrayBuffer(),r=new Uint8Array(t);V(r,9)})},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return w})),r.d(t,"d",(function(){return k})),r.d(t,"q",(function(){return $})),r.d(t,"i",(function(){return y})),r.d(t,"k",(function(){return V})),r.d(t,"m",(function(){return g})),r.d(t,"j",(function(){return m})),r.d(t,"c",(function(){return _})),r.d(t,"f",(function(){return v})),r.d(t,"o",(function(){return D})),r.d(t,"b",(function(){return S})),r.d(t,"e",(function(){return L})),r.d(t,"g",(function(){return A})),r.d(t,"l",(function(){return x})),r.d(t,"h",(function(){return T})),r.d(t,"n",(function(){return q})),r.d(t,"r",(function(){return E})),r.d(t,"p",(function(){return j}));var n=r(3);const a=new Array(32).fill(void 0);function c(e){return a[e]}a.push(void 0,null,!0,!1);let o=a.length;function u(e){const t=c(e);return function(e){e<36||(a[e]=o,o=e)}(e),t}let s=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});s.decode();let i=null;function d(){return null!==i&&i.buffer===n.n.buffer||(i=new Uint8Array(n.n.buffer)),i}function l(e,t){return s.decode(d().subarray(e,e+t))}function f(e){o===a.length&&a.push(a.length+1);const t=o;return o=a[t],a[t]=e,t}let p=0;function b(e,t){const r=t(1*e.length);return d().set(e,r/1),p=e.length,r}function h(e){return function(){try{return e.apply(this,arguments)}catch(e){n.b(f(e))}}}class w{static __wrap(e){const t=Object.create(w.prototype);return t.ptr=e,t}free(){const e=this.ptr;this.ptr=0,n.a(e)}constructor(e){var t=b(e,n.c),r=p,a=n.h(t,r);return w.__wrap(a)}update_keypad(e){var t=b(e,n.c),r=p;n.l(this.ptr,t,r)}step(){n.k(this.ptr)}should_redraw(){return 0!==n.j(this.ptr)}should_beep(){return 0!==n.i(this.ptr)}update_timers(){n.m(this.ptr)}get_vram_ptr(){return n.g(this.ptr)}get_ram_ptr(){return n.e(this.ptr)}get_pc(){return n.d(this.ptr)}get_v_registers_ptr(){return n.f(this.ptr)}}const k=h((function(e,t){c(e).getRandomValues(c(t))})),$=function(e){u(e)},y=h((function(e,t,r){var n,a;c(e).randomFillSync((n=t,a=r,d().subarray(n/1,n/1+a)))})),V=h((function(){return f(self.self)})),g=function(){return f(e)},m=h((function(e,t,r){return f(c(e).require(l(t,r)))})),_=function(e){return f(c(e).crypto)},v=function(e){return f(c(e).msCrypto)},D=function(e){return void 0===c(e)},S=function(e){return f(c(e).buffer)},L=function(e){return c(e).length},A=function(e){return f(new Uint8Array(c(e)))},x=function(e,t,r){c(e).set(c(t),r>>>0)},T=function(e){return f(new Uint8Array(e>>>0))},q=function(e,t,r){return f(c(e).subarray(t>>>0,r>>>0))},E=function(e,t){throw new Error(l(e,t))},j=function(){return f(n.n)}}).call(this,r(4)(e))},function(e,t,r){"use strict";var n=r.w[e.i];e.exports=n;r(2);n.o()},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}}]]);